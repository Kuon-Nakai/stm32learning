#ifndef __FFT_H
#define __FFT_H

#define PI 3.1415926535897932384626433832795028841971   //?????
#define FFT_N 128                                   //??????????
#include <math.h>
struct compx {float real,imag;}; //????????,??FFT??
struct Amp_Fre 									//??????????,????????THD
{
	unsigned int n[6];	//n[0]?0,n[1]?n[5]??????????
	float	wave[6];	    //wave[0]?????,wave[1]?wave[5]??????????
//	float THD;
};  
extern struct compx s[FFT_N];       //FFT?????:?S[1]????,????????
extern unsigned int f1K_n[6]; 
extern unsigned int fxK_n[6];
/*??1K???????,?????????n????,??20????
?????????n??????????,?????????*/

struct compx EE(struct compx a,struct compx b);//???????????
void FFT(struct compx *xin);
void Get_fxK_n(struct compx s[FFT_N]);//?1024?FFT?????,????????????,?????????fxK_n[6]
struct Amp_Fre Get_AmpFre(struct compx s[FFT_N],unsigned int n[6],unsigned char fre_1K);//?1024?FFT?????,??????????,???????
float Get_Thd(struct Amp_Fre a_f);//?????????,???????THD
float Get_Thd_Corrected(struct Amp_Fre a_f[10]);//???????,??????THD
void PrintFloat(float value);
struct Amp_Fre Get_Ampfre_Corr_Norm(struct Amp_Fre a_f[30]);

#endif
